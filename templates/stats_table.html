{# templates/stats_table.html #}
<table class="stat-table">
    <thead>
        <tr>
            <th class="stat-value-home">{{ stats.columns[0] }}</th>
            <th class="stat-label">Estadística</th>
            <th class="stat-value-away">{{ stats.columns[1] }}</th>
        </tr>
    </thead>
    <tbody>
    {% for index, row in stats.iterrows() %}
        {# Intentar convertir a número para comparar. Si no se puede, se usa color por defecto. #}
        {% set home_val = row['Casa'] | int(-1) %}
        {% set away_val = row['Fuera'] | int(-1) %}

        {% if home_val > away_val %}
            {% set home_color = 'color: #28a745; font-weight: bold;' %}
            {% set away_color = 'color: #dc3545;' %}
        {% elif away_val > home_val %}
            {% set home_color = 'color: #dc3545;' %}
            {% set away_color = 'color: #28a745; font-weight: bold;' %}
        {% else %}
            {% set home_color = '' %}
            {% set away_color = '' %}
        {% endif %}

        <tr>
            <td class="stat-value-home" style="{{ home_color }}">{{ row['Casa'] }}</td>
            <td class="stat-label">{{ index.replace('Shots on Goal', 'Tiros a Puerta').replace('Shots', 'Tiros').replace('Dangerous Attacks', 'Ataques Peligrosos').replace('Attacks', 'Ataques') }}</td>
            <td class="stat-value-away" style="{{ away_color }}">{{ row['Fuera'] }}</td>
        </tr>
    {% endfor %}
    </tbody>
</table>